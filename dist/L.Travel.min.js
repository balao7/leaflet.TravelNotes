/*! leaflet.Travel - version 0.1.0 - 2017-08-26 - Copyright 2015 2017 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/


!function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return r(o||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,o){!function(){"use strict";var o="Geom",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=6,i="#000000",a=5,s=-1;return{get pnts(){return t},set pnts(e){t=e},get precision(){return r},set precision(e){r=e},get color(){return i},set color(e){i=e},get weight(){return a},set weight(e){a=e},get objId(){return s},get objName(){return o},get objVersion(){return n},get object(){return{pnts:t,precision:r,color:i,weight:a,objId:s,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for Geom";if("1.0.0"!==o.objVersion)throw"invalid objVersion for Geom";if(!o.objName)throw"No objName for Geom";if("Geom"!==o.objName)throw"Invalid objName for Geom";t=o.pnts||"",r=o.precision||6,i=o.color||"#000000",a=o.weight||5,s=e("./ObjId")()}}})}()},{"./ObjId":6}],2:[function(e,t,o){!function(){"use strict";var e=function(){return{create:function(e,t,o){var n;if(n="text"===e.toLowerCase()?document.createTextNode(""):document.createElement(e),o&&o.appendChild(n),t)for(var r in t)try{n[r]=t[r]}catch(e){console.log("Invalid property : "+r)}return n}}};void 0!==t&&t.exports&&(t.exports=function(){return e()})}()},{}],3:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.Control=L.Control.extend({options:{position:"topright"},initialize:function(e){L.Util.setOptions(this,e)},onAdd:function(t){return e("./L.Travel.ControlUI")(t)}}),L.travel.control=function(e){return new L.Travel.Control(e)},void 0!==t&&t.exports&&(t.exports=L.travel.control)}()},{"./L.Travel.ControlUI":4}],4:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{};var o=e("./TravelData")(),n=null,r=null,i=function(e){n.removeAllItems(),o.removeAllRoutes()},a=function(e){o.addRoute(n.addItem())},s=function(e){e.target.parentNode.parentNode.childNodes[1].classList.toggle("TravelControl-HiddenList"),e.target.parentNode.parentNode.childNodes[2].classList.toggle("TravelControl-HiddenList"),e.target.innerHTML=e.target.parentNode.parentNode.childNodes[1].classList.contains("TravelControl-HiddenList")?"&#x25b6;":"&#x25bc;"};L.Travel.getControlUI=function(){return this.setTravelData=function(){for(var e=o.routes,t=0;t<e.length;t++)e[t].uiObjId=n.addItem(e[t].name,e[t].objId)},this.createUI=function(){var t=e("./HTMLElementsFactory")(),o=e("./SortableList");this.MainDiv=t.create("div",{id:"TravelControl-MainDiv"});var l=t.create("div",{id:"TravelControl-RoutesDiv"},this.MainDiv),c=t.create("div",{id:"TravelControl-HeaderRoutesDiv",className:"TravelControl-HeaderDiv"},l);t.create("span",{innerHTML:"&#x25bc;",className:"TravelControl-ExpandButton"},c).addEventListener("click",s,!1),t.create("span",{innerHTML:"Routes&nbsp;:",className:"TravelControl-HeaderText"},c),n=o({minSize:0,placeholders:["Route"]},l);var d=t.create("div",{id:"TravelControl-routesButtonsDiv"},l);t.create("span",{id:"TravelControl-addRoutesBtn",className:"TravelControl-btn",innerHTML:"+"},d).addEventListener("click",a,!1),t.create("span",{id:"TravelControl-deleteRoutesBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},d).addEventListener("click",i,!1);var u=t.create("div",{id:"TravelControl-WayPointsDiv"},this.MainDiv),v=t.create("div",{id:"TravelControl-HeaderWaypointsDiv",className:"TravelControl-HeaderDiv"},u);t.create("span",{innerHTML:"&#x25bc",className:"TravelControl-ExpandButton"},v).addEventListener("click",s,!1),t.create("span",{innerHTML:"Points de passage&nbsp;:",className:"TravelControl-HeaderText"},v),r=o({minSize:5,listStyle:"LimitedSort",placeholders:["Start","Via","End"],indexNames:["A","index","B"]},u);var m=t.create("div",{id:"TravelControl-wayPointsButtonsDiv"},u),h=(t.create("span",{id:"TravelControl-addWayPointsBtn",className:"TravelControl-btn",innerHTML:"+"},m),t.create("span",{id:"TravelControl-reverseWayPointsBtn",className:"TravelControl-btn",innerHTML:"&#x21C5;"},m),t.create("span",{id:"TravelControl-deleteWayPointsBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},m),t.create("div",{id:"TravelControl-ItineraryDiv"},this.MainDiv));t.create("span",{innerHTML:"Itinéraire&nbsp;:",className:"TravelControl-HeaderText"},h);t.create("div",{id:"TravelControl-ItineraryDiv"},this.MainDiv)},this.createUI(),this.setTravelData(),this.MainDiv},L.travel.ControlUI=function(){return L.Travel.getControlUI()},void 0!==t&&t.exports&&(t.exports=L.travel.ControlUI)}()},{"./HTMLElementsFactory":2,"./SortableList":8,"./TravelData":9}],5:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.getInterface=function(){return e("./TravelData")().object={name:"TravelData sample",routes:[{name:"Chemin du Sârtê",wayPoints:[{name:"Chemin du Sârtê 1 - Anthisnes",lat:50.50881,lng:5.49314,objId:-1,objName:"WayPoint",objVersion:"1.0.0"},{name:"Chemin du Sârtê 22 - Anthisnes",lat:50.50937,lng:5.4947,objId:-2,objName:"WayPoint",objVersion:"1.0.0"}],geom:{pnts:"w~xi_BwwgnIaHkLgIkUmEyTcLie@",precision:6,color:"#0000ff",weight:"5",objId:-3,objName:"Geom",objVersion:"1.0.0"},objId:-4,objName:"Route",objVersion:"1.0.0"}],objId:-5,objName:"TravelData",objVersion:"1.0.0"},{addControl:function(o,n){void 0!==t&&t.exports?o.addControl(e("./L.Travel.Control")(n)):o.addControl(L.marker.pin.control(n))},addWayPoint:function(e,t){console.log("addWayPoint")}}},L.travel.interface=function(){return L.Travel.getInterface()},void 0!==t&&t.exports&&(t.exports=L.travel.interface)}()},{"./L.Travel.Control":3,"./TravelData":9}],6:[function(e,t,o){!function(){"use strict";var e=0;void 0!==t&&t.exports&&(t.exports=function(){return++e})}()},{}],7:[function(e,t,o){!function(){"use strict";var o="Route",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=[],i={},a=-1,s=-1;return{get name(){return t},set name(e){t=e},addWayPoint:function(e){r.push(e)},removeWayPoint:function(e){},get geom(){return i},set geom(e){i=e},get uiObjId(){return s},set uiObjId(e){s=e},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){for(var e=[],s=0;s<r.length;s++)e.push(r[s].asObject);return{name:t,wayPoints:r,geom:i,objId:a,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for Route";if("1.0.0"!==o.objVersion)throw"invalid objVersion for Route";if(!o.objName)throw"No objName for Route";if("Route"!==o.objName)throw"Invalid objName for Route";t=o.name||"";for(var n=0;n<o.wayPoints.length;n++){var s=e("./WayPoint")();s.object=o.wayPoints[n],r.push(s)}var l=e("./Geom")();l.object=o.geom,i=l,a=e("./ObjId")()}}})}()},{"./Geom":1,"./ObjId":6,"./WayPoint":10}],8:[function(e,t,o){!function(){"use strict";var o=function(e){e.stopPropagation();try{e.dataTransfer.setData("Text","1")}catch(e){}console.log("onDragStart")},n=function(e){e.preventDefault(),console.log("onDragOver")},r=function(e){e.preventDefault();e.dataTransfer.getData("Text");console.log("onDrop")},i=function(e){console.log("onDeleteBtnClick"),e.stopPropagation()},a=function(e){console.log("onUpArrowBtnClick"),e.stopPropagation()},s=function(e){console.log("onDownArrowBtnClick"),e.stopPropagation()},l=function(e){console.log("onRightArrowBtnClick"),e.stopPropagation()},c=function(t,c){var d=e("./HTMLElementsFactory")();this.items=[],this.removeItem=function(){},this.removeAllItems=function(){for(var e=0;e<this.items.length;e++)this.Container.removeChild(this.items[e]);this.items.length=0},this.moveItem=function(){},this.addItem=function(t,n){t=t||"",n=n||-1;var r="";if(1===this.options.placeholders.length&&(r=this.options.placeholders[0]),3===this.options.placeholders.length)switch(this.items.length){case 0:r=this.options.placeholders[0];break;case 1:r=this.options.placeholders[2];break;default:r=this.options.placeholders[1]}var c="";if(1===this.options.indexNames.length&&(c=this.options.indexNames[0]),3===this.options.indexNames.length)switch(this.items.length){case 0:c=this.options.indexNames[0];break;case 1:c=this.options.indexNames[2];break;default:c=this.options.indexNames[1]}"index"===c&&(c=this.items.length-1);var u=d.create("div",{draggable:!1,className:"SortableList-Item"});d.create("span",{className:"SortableList-ItemTextIndex",innerHTML:c},u),d.create("input",{type:"text",className:"SortableList-ItemInput",placeholder:r,value:t},u),d.create("span",{className:"SortableList-ItemDeleteBtn",innerHTML:"&#x1f5d1;"},u).addEventListener("click",i,!1),d.create("span",{className:"SortableList-ItemUpArrowBtn",innerHTML:String.fromCharCode(8679)},u).addEventListener("click",a,!1),d.create("span",{className:"SortableList-ItemDownArrowBtn",innerHTML:String.fromCharCode(8681)},u).addEventListener("click",s,!1),"AllSort"===this.options.listStyle&&d.create("span",{className:"SortableList-ItemRightArrowBtn",innerHTML:String.fromCharCode(8688)},u).addEventListener("click",l,!1),u.dataObjId=n,u.UIObjId=e("./ObjId")(),this.items.push(u);var v=null;"LimitedSort"===this.options.listStyle&&2<this.items.length&&(v=this.items[this.items.length-2],this.items[this.items.length-2]=this.items[this.items.length-1],this.items[this.items.length-1]=v),("LimitedSort"!==this.options.listStyle||2<this.items.length)&&(u.draggable=!0,u.addEventListener("dragstart",o,!1),u.classList.add("SortableList-MoveCursor")),v?this.Container.insertBefore(u,v):this.Container.appendChild(u)},this._create=function(e,t){this.options={minSize:2,listStyle:"AllSort",placeholders:[],indexNames:[]};for(var o in e)this.options[o]=e[o];"LimitedSort"===this.options.listStyle&&2>this.options.minSize&&(this.options.minSize=2),this.Container=d.create("div",{className:"SortableList-Container"}),this.Container.classList.add(this.options.listStyle),this.Container.addEventListener("dragover",n,!1),this.Container.addEventListener("drop",r,!1),t&&t.appendChild(this.Container);for(var i=0;i<this.options.minSize;i++)this.addItem()},this._create(t,c)};void 0!==t&&t.exports&&(t.exports=function(e,t){return new c(e,t)})}()},{"./HTMLElementsFactory":2,"./ObjId":6}],9:[function(e,t,o){!function(){"use strict";var o="TravelData",n="1.0.0",r="",i=[],a=-1,s=[];void 0!==t&&t.exports&&(t.exports=function(){return{clear:function(){for(var e=0;e<i.length;e++)s.push(i[e]);this.object={name:"",routes:[{name:"",wayPoints:[{name:"",lat:0,lng:0,objId:-1,objName:"WayPoint",objVersion:"1.0.0"},{name:"",lat:0,lng:0,objId:-1,objName:"WayPoint",objVersion:"1.0.0"}],geom:{pnts:"",precision:6,color:"#000000",weight:"5",objId:-1,objName:"Geom",objVersion:"1.0.0"},objId:-1,objName:"Route",objVersion:"1.0.0"}],objId:-1,objName:"TravelData",objVersion:"1.0.0"}},removeAllRoutes:function(){for(var e=0;e<i.length;e++)s.push(i[e]);i.length=0,console.log(s)},addRoute:function(t){var o=e("./Route")();o.uiObjId=t,console.log(t),console.log(o.uiObjId),i.push(o),console.log(i)},get routes(){return i},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].object);return{name:r,routes:i,objId:a,objName:o,objVersion:n}},set object(t){if(!t.objVersion)throw"No ObjVersion for TravelData";if("1.0.0"!==t.objVersion)throw"invalid objVersion for TravelData";if(!t.objName)throw"No objName for TravelData";if("TravelData"!==t.objName)throw"Invalid objName for TravelData";r=t.name||"",i.length=0;for(var o=0;o<t.routes.length;o++){var n=e("./Route")();n.object=t.routes[o],i.push(n)}a=e("./ObjId")()}}})}()},{"./ObjId":6,"./Route":7}],10:[function(e,t,o){!function(){"use strict";var o="WayPoint",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=0,i=0,a=-1;return{get name(){return t},set name(e){t=e},get lat(){return r},set lat(e){r=e},get lng(){return i},set lng(e){i=e},get latLng(){return[r,i]},set latLng(e){r=e[0],i=e[1]},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){return{name:t,lat:r,lng:i,objId:a,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for WayPoint";if("1.0.0"!==o.objVersion)throw"invalid objVersion for WayPoint";if(!o.objName)throw"No objName for WayPoint";if("WayPoint"!==o.objName)throw"Invalid objName for WayPoint";t=o.name||"",r=o.lat||0,i=o.lng||0,a=e("./ObjId")()}}})}()},{"./ObjId":6}]},{},[5]);
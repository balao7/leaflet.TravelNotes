/*! leaflet.Travel - version 0.1.0 - 2017-08-25 - Copyright 2015 2017 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/


!function e(t,o,n){function r(a,s){if(!o[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var d=o[a]={exports:{}};t[a][0].call(d.exports,function(e){var o=t[a][1][e];return r(o||e)},d,d.exports,e,t,o,n)}return o[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,o){!function(){"use strict";var o="Geom",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=6,i="#000000",a=5,s=-1;return{get pnts(){return t},set pnts(e){t=e},get precision(){return r},set precision(e){r=e},get color(){return i},set color(e){i=e},get weight(){return a},set weight(e){a=e},get objId(){return s},get objName(){return o},get objVersion(){return n},get object(){return{pnts:t,precision:r,color:i,weight:a,objId:s,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for Geom";if("1.0.0"!==o.objVersion)throw"invalid objVersion for Geom";if(!o.objName)throw"No objName for Geom";if("Geom"!==o.objName)throw"Invalid objName for Geom";t=o.pnts||"",r=o.precision||6,i=o.color||"#000000",a=o.weight||5,s=e("./ObjId")()}}})}()},{"./ObjId":6}],2:[function(e,t,o){!function(){"use strict";var e=function(){return{create:function(e,t,o){var n;if(n="text"===e.toLowerCase()?document.createTextNode(""):document.createElement(e),o&&o.appendChild(n),t)for(var r in t)try{n[r]=t[r]}catch(e){console.log("Invalid property : "+r)}return n}}};void 0!==t&&t.exports&&(t.exports=function(){return e()})}()},{}],3:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.Control=L.Control.extend({options:{position:"topright"},initialize:function(e){L.Util.setOptions(this,e)},onAdd:function(t){return e("./L.Travel.ControlUI")(t)}}),L.travel.control=function(e){return new L.Travel.Control(e)},void 0!==t&&t.exports&&(t.exports=L.travel.control)}()},{"./L.Travel.ControlUI":4}],4:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{};var o=null,n=function(e){o.removeAllItems()},r=function(e){o.addItem()};L.Travel.getControlUI=function(t){var i=e("./HTMLElementsFactory")(),a=e("./SortableList"),s=i.create("div",{id:"TravelControl-MainDiv"}),l=i.create("div",{id:"TravelControl-RoutesDiv"},s);i.create("h3",{innerHTML:"Routes&nbsp;:"},l),o=a({minSize:0,placeholder:"Route"},l);var c=i.create("div",{id:"TravelControl-routesButtonsDiv"},l);i.create("span",{id:"TravelControl-addRoutesBtn",className:"TravelControl-btn",innerHTML:"+"},c).addEventListener("click",r,!1),i.create("span",{id:"TravelControl-deleteRoutesBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},c).addEventListener("click",n,!1);var d=i.create("div",{id:"TravelControl-WayPointsDiv"},s);i.create("h3",{innerHTML:"Points de passage&nbsp;:"},d);a({minSize:0,listType:1,placeholders:["Start","Via","End"],texts:["A","index","B"]},d);var u=i.create("div",{id:"TravelControl-wayPointsButtonsDiv"},d),v=(i.create("span",{id:"TravelControl-addWayPointsBtn",className:"TravelControl-btn",innerHTML:"+"},u),i.create("span",{id:"TravelControl-reverseWayPointsBtn",className:"TravelControl-btn",innerHTML:"&#x21C5;"},u),i.create("span",{id:"TravelControl-deleteWayPointsBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},u),i.create("div",{id:"TravelControl-ItineraryDiv"},s));i.create("h3",{innerHTML:"Itinéraire&nbsp;:"},v);i.create("div",{id:"TravelControl-ItineraryDiv"},s),e("./TravelData")();return s},L.travel.ControlUI=function(e){return L.Travel.getControlUI(e)},void 0!==t&&t.exports&&(t.exports=L.travel.ControlUI)}()},{"./HTMLElementsFactory":2,"./SortableList":8,"./TravelData":9}],5:[function(e,t,o){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.getInterface=function(){var o=e("./TravelData")();return o.object={name:"TravelData sample",routes:[{name:"Chemin du Sârtê",wayPoints:[{name:"Chemin du Sârtê 1 - Anthisnes",lat:50.50881,lng:5.49314,objId:-1,objName:"WayPoint",objVersion:"1.0.0"},{name:"Chemin du Sârtê 22 - Anthisnes",lat:50.50937,lng:5.4947,objId:-2,objName:"WayPoint",objVersion:"1.0.0"}],geom:{pnts:"w~xi_BwwgnIaHkLgIkUmEyTcLie@",precision:6,color:"#0000ff",weight:"5",objId:-3,objName:"Geom",objVersion:"1.0.0"},objId:-4,objName:"Route",objVersion:"1.0.0"}],objId:-5,objName:"TravelData",objVersion:"1.0.0"},o.clear(),{addControl:function(o,n){void 0!==t&&t.exports?o.addControl(e("./L.Travel.Control")(n)):o.addControl(L.marker.pin.control(n))},addWayPoint:function(e,t){console.log("addWayPoint")}}},L.travel.interface=function(){return L.Travel.getInterface()},void 0!==t&&t.exports&&(t.exports=L.travel.interface)}()},{"./L.Travel.Control":3,"./TravelData":9}],6:[function(e,t,o){!function(){"use strict";var e=0;void 0!==t&&t.exports&&(t.exports=function(){return++e})}()},{}],7:[function(e,t,o){!function(){"use strict";var o="Route",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=[],i={},a=-1;return{get name(){return t},set name(e){t=e},addWayPoint:function(e){r.push(e)},removeWayPoint:function(e){},get geom(){return i},set geom(e){i=e},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){for(var e=[],s=0;s<r.length;s++)e.push(r[s].asObject);return{name:t,wayPoints:r,geom:i,objId:a,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for Route";if("1.0.0"!==o.objVersion)throw"invalid objVersion for Route";if(!o.objName)throw"No objName for Route";if("Route"!==o.objName)throw"Invalid objName for Route";t=o.name||"";for(var n=0;n<o.wayPoints.length;n++){var s=e("./WayPoint")();s.object=o.wayPoints[n],r.push(s.object)}var l=e("./Geom")();l.object=o.geom,i=l.object,a=e("./ObjId")()}}})}()},{"./Geom":1,"./ObjId":6,"./WayPoint":10}],8:[function(e,t,o){!function(){"use strict";var o=function(e){e.stopPropagation();try{e.dataTransfer.setData("Text","1")}catch(e){}console.log("onDragStart")},n=function(e){e.preventDefault(),console.log("onDragOver")},r=function(e){e.preventDefault();e.dataTransfer.getData("Text");console.log("onDrop")},i=function(t,i){var a=function(e){console.log("onDeleteBtnClick"),console.log(this),e.stopPropagation()},s=function(e){console.log("onUpArrowBtnClick"),e.stopPropagation()},l=function(e){console.log("onDownArrowBtnClick"),e.stopPropagation()},c=e("./HTMLElementsFactory")();this.items=[],this._setItemsClasses=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.classList.contains("deleteBtn")&&t.childNodes[2].removeEventListener("click",a,!1),t.classList.contains("upArrowBtn")&&t.childNodes[3].removeEventListener("click",s,!1),t.classList.contains("downArrowBtn")&&t.childNodes[4].removeEventListener("click",l,!1);var n=!0,r=" deleteBtn",i=" upArrowBtn",c=" downArrowBtn",d=" moveCursor",u="",v="";0===this.options.listType?(u=this.options.placeholder,0===e&&(i=" noUpArrowBtn"),this.items.length===e+1&&(c=" noDownArrowBtn")):1===this.options.listType&&(u=this.options.placeholders[1],v=e,0===e&&(n=!1,r=" noDeleteBtn",i=" noUpArrowBtn",c=" noDownArrowBtn",d="",u=this.options.placeholders[0],v=this.options.texts[0]),1===e&&(i=" noUpArrowBtn"),this.items.length-2===e&&(c=" noDownArrowBtn"),this.items.length-1===e&&(n=!1,r=" noDeleteBtn",i=" noUpArrowBtn",c=" noDownArrowBtn",d="",u=this.options.placeholders[2],v=this.options.texts[2]));t.className="SortableListItem"+r+i+c+d,t.classList.contains("deleteBtn")&&t.childNodes[2].addEventListener("click",a,!1),t.classList.contains("upArrowBtn")&&t.childNodes[3].addEventListener("click",s,!1),t.classList.contains("downArrowBtn")&&t.childNodes[4].addEventListener("click",l,!1),t.draggable&&t.removeEventListener("dragstart",o,!1),t.draggable=n,n&&t.addEventListener("dragstart",o,!1),t.firstChild.innerHTML=v,t.firstChild.nextSibling.placeholder=u}},this.removeItem=function(){this._setItemsClasses()},this.removeAllItems=function(){for(var e=0;e<this.items.length;e++)this.Container.removeChild(this.items[e]);this.items.splice(0),this.addItem()},this.moveItem=function(){this._setItemsClasses()},this.addItem=function(){var e=c.create("div",{draggable:!1},this.Container);c.create("span",{className:"SortableListTextIndex"},e),c.create("input",{type:"text",className:"SortableListInput"},e),c.create("span",{className:"SortableListDeleteBtn",innerHTML:"&#x1f5d1;"},e),c.create("span",{className:"SortableListUpArrowBtn",innerHTML:String.fromCharCode(8679)},e),c.create("span",{className:"SortableListDownArrowBtn",innerHTML:String.fromCharCode(8681)},e),this.items.push(e),this._setItemsClasses()},this._create=function(e,t){this.options={minSize:2,listType:0,placeholder:"",placeholders:[],texts:[]};for(var o in e)this.options[o]=e[o];this.Container=c.create("div",{className:"SortableListContainer"}),this.Container.addEventListener("dragover",n,!1),this.Container.addEventListener("drop",r,!1),t&&t.appendChild(this.Container);for(var i=0;i<this.options.minSize;i++)this.addItem()},this._create(t,i)};void 0!==t&&t.exports&&(t.exports=function(e,t){return new i(e,t)})}()},{"./HTMLElementsFactory":2}],9:[function(e,t,o){!function(){"use strict";var o="TravelData",n="1.0.0",r="",i=[],a=-1;void 0!==t&&t.exports&&(t.exports=function(){return{clear:function(){this.object={name:"",routes:[{name:"",wayPoints:[{name:"",lat:0,lng:0,objId:-1,objName:"WayPoint",objVersion:"1.0.0"},{name:"",lat:0,lng:0,objId:-1,objName:"WayPoint",objVersion:"1.0.0"}],geom:{pnts:"",precision:6,color:"#000000",weight:"5",objId:-1,objName:"Geom",objVersion:"1.0.0"},objId:-1,objName:"Route",objVersion:"1.0.0"}],objId:-1,objName:"TravelData",objVersion:"1.0.0"}},getRoute:function(e){return i[Indice]},addRoute:function(e){i.push(e)},removeRoute:function(e){},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].asObject);return{name:r,routes:i,objId:a,objName:o,objVersion:n}},set object(t){if(!t.objVersion)throw"No ObjVersion for TravelData";if("1.0.0"!==t.objVersion)throw"invalid objVersion for TravelData";if(!t.objName)throw"No objName for TravelData";if("TravelData"!==t.objName)throw"Invalid objName for TravelData";r=t.name||"",i.length=0;for(var o=0;o<t.routes.length;o++){var n=e("./Route")();n.object=t.routes[o],i.push(n.object)}a=e("./ObjId")()}}})}()},{"./ObjId":6,"./Route":7}],10:[function(e,t,o){!function(){"use strict";var o="WayPoint",n="1.0.0";void 0!==t&&t.exports&&(t.exports=function(){var t="",r=0,i=0,a=-1;return{get name(){return t},set name(e){t=e},get lat(){return r},set lat(e){r=e},get lng(){return i},set lng(e){i=e},get latLng(){return[r,i]},set latLng(e){r=e[0],i=e[1]},get objId(){return a},get objName(){return o},get objVersion(){return n},get object(){return{name:t,lat:r,lng:i,objId:a,objName:o,objVersion:n}},set object(o){if(!o.objVersion)throw"No ObjVersion for WayPoint";if("1.0.0"!==o.objVersion)throw"invalid objVersion for WayPoint";if(!o.objName)throw"No objName for WayPoint";if("WayPoint"!==o.objName)throw"Invalid objName for WayPoint";t=o.name||"",r=o.lat||0,i=o.lng||0,a=e("./ObjId")()}}})}()},{"./ObjId":6}]},{},[5]);
/*! leaflet.Travel - version 0.1.0 - 2017-08-24 - Copyright 2015 2017 Christian Guyette - Contact: http//www.ouaie.be/ - This  program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.*/


!function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n||t)},d,d.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){!function(){"use strict";var t=function(){return{create:function(t,e,n){var r;if(r="text"===t.toLowerCase()?document.createTextNode(""):document.createElement(t),n&&n.appendChild(r),e)for(var o in e)try{r[o]=e[o]}catch(t){console.log("Invalid property : "+o)}return r}}};void 0!==e&&e.exports&&(e.exports=function(){return t()})}()},{}],2:[function(t,e,n){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.Control=L.Control.extend({options:{position:"topright"},initialize:function(t){L.Util.setOptions(this,t)},onAdd:function(e){return t("./L.Travel.ControlUI")(e)}}),L.travel.control=function(t){return new L.Travel.Control(t)},void 0!==e&&e.exports&&(e.exports=L.travel.control)}()},{"./L.Travel.ControlUI":3}],3:[function(t,e,n){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{};var n=null,r=function(t){n.removeAllItems()},o=function(t){n.addItem()};L.Travel.getControlUI=function(e){var i=t("./HTMLElementsFactory")(),s=t("./SortableList"),a=i.create("div",{id:"TravelControl-MainDiv"}),l=i.create("div",{id:"TravelControl-RoutesDiv"},a);i.create("h3",{innerHTML:"Routes&nbsp;:"},l),n=s({minSize:1,placeholder:"Route"},l);var c=i.create("div",{id:"TravelControl-routesButtonsDiv"},l);i.create("span",{id:"TravelControl-addRoutesBtn",className:"TravelControl-btn",innerHTML:"+"},c).addEventListener("click",o,!1),i.create("span",{id:"TravelControl-deleteRoutesBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},c).addEventListener("click",r,!1);var d=i.create("div",{id:"TravelControl-WayPointsDiv"},a);i.create("h3",{innerHTML:"Points de passage&nbsp;:"},d);s({minSize:5,listType:1,placeholders:["Start","Via","End"],texts:["A","index","B"]},d);var v=i.create("div",{id:"TravelControl-waypointsButtonsDiv"},d),p=(i.create("span",{id:"TravelControl-addWaypointsBtn",className:"TravelControl-btn",innerHTML:"+"},v),i.create("span",{id:"TravelControl-reverseWaypointsBtn",className:"TravelControl-btn",innerHTML:"&#x21C5;"},v),i.create("span",{id:"TravelControl-deleteWaypointsBtn",className:"TravelControl-btn",innerHTML:"&#x1f5d1;"},v),i.create("div",{id:"TravelControl-ItineraryDiv"},a));i.create("h3",{innerHTML:"ItinÃ©raire&nbsp;:"},p);i.create("div",{id:"TravelControl-ItineraryDiv"},a);return a},L.travel.ControlUI=function(t){return L.Travel.getControlUI(t)},void 0!==e&&e.exports&&(e.exports=L.travel.ControlUI)}()},{"./HTMLElementsFactory":1,"./SortableList":5}],4:[function(t,e,n){!function(){"use strict";L.Travel=L.Travel||{},L.travel=L.travel||{},L.Travel.getInterface=function(){return{addControl:function(n,r){void 0!==e&&e.exports?n.addControl(t("./L.Travel.Control")(r)):n.addControl(L.marker.pin.control(r))},addWayPoint:function(t,e){console.log("addWayPoint")}}},L.travel.interface=function(){return L.Travel.getInterface()},void 0!==e&&e.exports&&(e.exports=L.travel.interface)}()},{"./L.Travel.Control":2}],5:[function(t,e,n){!function(){"use strict";var n=function(t){t.stopPropagation();try{t.dataTransfer.setData("Text","1")}catch(t){}console.log("onDragStart")},r=function(t){t.preventDefault(),console.log("onDragOver")},o=function(t){t.preventDefault();t.dataTransfer.getData("Text");console.log("onDrop")},i=function(e,i){var s=function(t){console.log("onDeleteBtnClick"),console.log(this),t.stopPropagation()},a=function(t){console.log("onUpArrowBtnClick"),t.stopPropagation()},l=function(t){console.log("onDownArrowBtnClick"),t.stopPropagation()},c=t("./HTMLElementsFactory")();this.items=[],this._setItemsClasses=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.classList.contains("deleteBtn")&&e.childNodes[2].removeEventListener("click",s,!1),e.classList.contains("upArrowBtn")&&e.childNodes[3].removeEventListener("click",a,!1),e.classList.contains("downArrowBtn")&&e.childNodes[4].removeEventListener("click",l,!1);var r=!0,o=" deleteBtn",i=" upArrowBtn",c=" downArrowBtn",d=" moveCursor",v="",p="";0===this.options.listType?(v=this.options.placeholder,0===t&&(i=" noUpArrowBtn"),this.items.length===t+1&&(c=" noDownArrowBtn")):1===this.options.listType&&(v=this.options.placeholders[1],p=t,0===t&&(r=!1,o=" noDeleteBtn",i=" noUpArrowBtn",c=" noDownArrowBtn",d="",v=this.options.placeholders[0],p=this.options.texts[0]),1===t&&(i=" noUpArrowBtn"),this.items.length-2===t&&(c=" noDownArrowBtn"),this.items.length-1===t&&(r=!1,o=" noDeleteBtn",i=" noUpArrowBtn",c=" noDownArrowBtn",d="",v=this.options.placeholders[2],p=this.options.texts[2]));e.className="SortableListItem"+o+i+c+d,e.classList.contains("deleteBtn")&&e.childNodes[2].addEventListener("click",s,!1),e.classList.contains("upArrowBtn")&&e.childNodes[3].addEventListener("click",a,!1),e.classList.contains("downArrowBtn")&&e.childNodes[4].addEventListener("click",l,!1),e.draggable&&e.removeEventListener("dragstart",n,!1),e.draggable=r,r&&e.addEventListener("dragstart",n,!1),e.firstChild.innerHTML=p,e.firstChild.nextSibling.placeholder=v}},this.removeItem=function(){this._setItemsClasses()},this.removeAllItems=function(){for(var t=0;t<this.items.length;t++)this.Container.removeChild(this.items[t]);this.items.splice(0),this.addItem()},this.moveItem=function(){this._setItemsClasses()},this.addItem=function(){var t=c.create("div",{draggable:!1},this.Container);c.create("span",{className:"SortableListTextIndex"},t),c.create("input",{type:"text",className:"SortableListInput"},t),c.create("span",{className:"SortableListDeleteBtn",innerHTML:"&#x1f5d1;"},t),c.create("span",{className:"SortableListUpArrowBtn",innerHTML:String.fromCharCode(8679)},t),c.create("span",{className:"SortableListDownArrowBtn",innerHTML:String.fromCharCode(8681)},t),this.items.push(t),this._setItemsClasses()},this._create=function(t,e){this.options={minSize:2,listType:0,placeholder:"",placeholders:[],texts:[]};for(var n in t)this.options[n]=t[n];this.Container=c.create("div",{className:"SortableListContainer"}),this.Container.addEventListener("dragover",r,!1),this.Container.addEventListener("drop",o,!1),e&&e.appendChild(this.Container);for(var i=0;i<this.options.minSize;i++)this.addItem()},this._create(e,i)};void 0!==e&&e.exports&&(e.exports=function(t,e){return new i(t,e)})}()},{"./HTMLElementsFactory":1}]},{},[4]);